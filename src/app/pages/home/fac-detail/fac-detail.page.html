<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Factura #{{ factura.id }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="deleteFact()">
        <ion-icon slot="icon-only" name="trash"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid class="ion-no-padding">
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Factura #{{ factura.id }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-item>
              <ion-icon name="person" slot="start"></ion-icon>
              <ion-avatar slot="end">
                <img
                  src="https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50?s=200"
                  [alt]="factura.cliente"
                />
              </ion-avatar>
              <ion-label>{{ factura.cliente }}</ion-label>
            </ion-item>
            <ion-item>
              <ion-icon name="calendar" slot="start"></ion-icon>
              <ion-label>{{ factura.fecha }}</ion-label>
            </ion-item>
            <ion-item>
              <ion-icon name="cash" slot="start"></ion-icon>
              <ion-label>{{ factura.total | currency: 'USD' }} USD</ion-label>
            </ion-item>

            <ion-item *ngIf="factura.estado === 'Pendiente'; else pagado">
              <ion-icon
                name="checkmark-circle"
                slot="start"
                color="danger"
              ></ion-icon>
              <ion-label>{{ factura.estado }}</ion-label>
            </ion-item>

            <ng-template #pagado>
              <ion-item>
                <ion-icon
                  name="checkmark-circle"
                  slot="start"
                  color="success"
                ></ion-icon>
                <ion-label>{{ factura.estado }}</ion-label>
              </ion-item>
            </ng-template>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Productos</ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <ion-list>
              <ion-item *ngFor="let producto of factura.description">
                <ion-label>{{ producto.descripcion }}</ion-label>
                <ion-label slot="end">{{ producto.cantidad }}Unds</ion-label>
                <ion-label slot="end"
                  >{{ producto.precio | currency: 'USD'}}</ion-label
                >
              </ion-item>
            </ion-list>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Total</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-item>
              <ion-label>{{ factura.total | currency: 'USD' }} USD</ion-label>
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header>
            <ion-card-title>Observaciones</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-item>
              <ion-label>{{ factura.observaciones }}</ion-label>
            </ion-item>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button>
      <ion-icon name="checkmark"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
